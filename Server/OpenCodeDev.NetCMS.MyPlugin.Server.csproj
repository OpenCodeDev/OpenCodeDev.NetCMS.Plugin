<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net5.0</TargetFramework>
    <Authors>Max Samson</Authors>
    <Description>This is Server part of a plugin where all the logic and magic happen, it should be very easy and straight forward for the user to activate and start using it right away. Even if you don't need Admin UI or Client UI and you only for example: hook to existant events to alter the bahavior you should still create Shared and Admin side even if its empty.</Description>
    <Copyright>Max Samson 2021 C All Right Reserved.</Copyright>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\OpenCodeDev.NetCMS.Core\Server\OpenCodeDev.NetCMS.Core.Server.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Folder Include="_netcms_\models\" />
    <Folder Include="_netcms_\_gen_\" />
  </ItemGroup>

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="echo &quot;Start Pre-Build Events&quot;&#xD;&#xA;SET _testTargetDir=$(TargetDir)&#xD;&#xA;SET _targetDir=%25_testTargetDir:\=\\%25&#xD;&#xA;SET _testProjectDir=$(ProjectDir)&#xD;&#xA;SET _projectDir=%25_testProjectDir:\=\\%25&#xD;&#xA;echo {&quot;Namespace&quot;:&quot;$(TargetName)&quot;, &quot;RootCode&quot;:&quot;%25_projectDir%25&quot;, &quot;Output&quot;:&quot;%25_targetDir%25&quot;, &quot;Target&quot;:&quot;$(ConfigurationName)&quot;} &gt; $(ProjectDir)\..\.netcms_config\server.json&#xD;&#xA;echo &quot;Copying Generated Files&quot;&#xD;&#xA;robocopy /MIR $(SolutionDir).netcms_config\generated\server $(ProjectDir)\_netcms_" />
  </Target>

</Project>
